### Ubuntu
##### 1,网卡
/etc/network/interface
```
auto ens3
iface ens3 inet static
address 192.168.1.60
netmask 255.255.255.0
gateway 192.168.1.1

systemctl restart networking
```
##### 2,root-passwd
```
sudo su 
passwd
```

##### 3,sshd
```
apt update 
apt install openssh-server
vi /etc/ssh/sshd_config
PermitRootLogin yes
service sshd restart
# my pc
ssh-copy-id -i ~/.ssh/id_rsa.pub sylar@192.168.1.60

vi /etc/ssh/sshd_config
PasswordAuthentication no
```

##### 4,ipv6.disable
```
cat /etc/default/grub
GRUB_CMDLINE_LINUX_DEFAULT="ipv6.disable=1"

update-grub
```

##### 5,ufw

```
systemctl enable ufw
ufw allow 22/tcp
ufw enable
```

##### 6,update

```
cp /etc/apt/sources.list ~/
vi /etc/apt/sources.list        #加速节点按自己习惯选择
apt clean
apt update
apt upgrade -y
```

##### 7 nameserver丢失

```
echo "nameserver 114.114.114.114 " >> /etc/resolvconf/resolv.conf.d/base
```


##### 8,timedatectl

```
timedatectl set-local-rtc 1
timedatectl set-timezone Asia/Shanghai
```




### Centos7

##### 1, ipv6

```
#vi /etc/default/grub
GRUB_CMDLINE_LINUX="ipv6.disable=1 rd.lvm.lv=centos_cobbler/root rd.lvm.lv=centos_cobbler/swap rhgb quiet"

```
```
grub2-mkconfig -o /boot/grub2/grub.cfg
```

##### 2, selinux

```
vi /etc/selinux/config
SELINUX=disabled
```


##### 3, firewalld

```
systemctl stop firewalld
systemctl disable firewalld
yum install iptables 

vi /etc/sysconfig/iptables
# Generated by iptables-save v1.4.21 on Sun May  6 16:09:50 2018
*filter
:INPUT DROP [0:0]
:FORWARD ACCEPT [0:0]
:OUTPUT ACCEPT [827:152282]
:syn-flood - [0:0]
-A INPUT -i lo -j ACCEPT
-A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT
-A INPUT -p tcp -m state --state NEW -m tcp --dport 22 -j ACCEPT
.....
-A INPUT -p icmp -m icmp --icmp-type 8 -j ACCEPT
COMMIT
# Completed on Sun May  6 16:09:50 2018


```


##### 4, epel and base-tool

```
wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo -y
yum makecache fast
yum install wget htop bash-completion net-tools vim -y
reboot
```


##### 5, hostname

```
hostnamectl set-hostname xxx
```

##### 6, timezone
```
yum -y install chrony && systemctl enable chronyd &&systemctl start chronyd
timedatectl set-local-rtc 1
timedatectl set-timezone Asia/Shanghai
```


##### 7, limit
```
cat >> /etc/security/limits.conf <<EOF
# End of file
* soft nproc 65535
* hard nproc 65535
* soft nofile 65535
* hard nofile 65535
EOF
```

